<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>5.5. Workflow to submit code changes &#8212; pyrpl 0.9.7.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css?v=4468db6d" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=fd3f3429" />
    <script src="../_static/documentation_options.js?v=cf93a8f2"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="../_static/icon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="5.6. API specifications from the moment of their development" href="api/index.html" />
    <link rel="prev" title="5.4. Coding style guidelines" href="codingstyle.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>

  </head><body>
  

  <style id="ribbon">
    #forkongithub a{background:#c11;color:#fff;text-decoration:none;font-family:arial,sans-serif;text-align:center;font-weight:bold;padding:5px 40px;font-size:1rem;line-height:2rem;position:relative;transition:0.5s;}
    #forkongithub a:hover{background:#1c1;color:#fff;}
    #forkongithub a::before,
    #forkongithub a::after{content:"";width:100%;display:block;position:absolute;top:1px;left:0;height:1px;background:#fff;}
    #forkongithub a::after{bottom:1px;top:auto;}@media screen and (min-width:800px)
    { #forkongithub{position:fixed;display:block;top:0;right:0;width:200px;overflow:hidden;height:200px;z-index:9999;}#forkongithub a{width:200px;position:absolute;top:45px;right:-45px;transform:rotate(45deg);-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);-moz-transform:rotate(45deg);-o-transform:rotate(45deg);box-shadow:4px 4px 10px rgba(0,0,0,0.8);}}
  </style>
  <span id="forkongithub"><a href="https://www.github.com/lneuhaus/pyrpl#fork-destination-box">Fork PyRPL on GitHub</a></span>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-102689373-2', 'auto');
    ga('send', 'pageview');

  </script>


  <div id="navbar" class="navbar navbar-inverse navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          PyRPL</a>
        <span class="navbar-text navbar-version pull-left"><b>0.9.7.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="../index.html">Home</a></li>
                <li><a href="../installation.html">Installation</a></li>
                <li><a href="../gui.html">Graphical user interface</a></li>
                <li><a href="../api.html">API</a></li>
                <li><a href="../basics.html">How PyRPL works</a></li>
                <li><a href="index.html">Infos for Developers</a></li>
            
            
              
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li><a class="reference internal" href="#">5.5. Workflow to submit code changes</a><ul>
<li><a class="reference internal" href="#preliminaries">5.5.1. Preliminaries</a></li>
<li><a class="reference internal" href="#use-git-to-collaborate-on-code">5.5.2. Use git to collaborate on code</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      
  <section id="workflow-to-submit-code-changes">
<h1><span class="section-number">5.5. </span>Workflow to submit code changes<a class="headerlink" href="#workflow-to-submit-code-changes" title="Link to this heading">¶</a></h1>
<section id="preliminaries">
<h2><span class="section-number">5.5.1. </span>Preliminaries<a class="headerlink" href="#preliminaries" title="Link to this heading">¶</a></h2>
<p>While our project PyRPL is yet too small to make it necessary to define
collaboration guidelines, we will just stick to the guidelines of the
<a class="reference external" href="https://rfc.zeromq.org/spec:22/C4/">Collective Code Construction Contract
(C4)</a>. In addition, if you would
like to make a contribution to PyRPL, please do so by issuing a
pull-request that we will merge. Your pull-request should pass
unit-tests and be in PEP-8 style.</p>
</section>
<section id="use-git-to-collaborate-on-code">
<h2><span class="section-number">5.5.2. </span>Use git to collaborate on code<a class="headerlink" href="#use-git-to-collaborate-on-code" title="Link to this heading">¶</a></h2>
<p>As soon as you are able to, please use the git command line instead of
programs such as gitHub, since their functionality is less accurate than
the command line’s.</p>
<ol class="arabic">
<li><p>Never work on the master branch. That way, you cannot compromise by
mistake the functionality of the code that other people are using.</p></li>
<li><p>If you are developing a new function or the like, it is best to
create your own branch. As soon as your development is fully
functional and passes all unit tests, you can issue a pull request to
master (or another branch if you prefer). Add a comment about the
future of that branch, i.e. whether it can be deleted or whether you
plan to work on the same branch to implement more changes. Even after
the pull request has been merged into master, you may keep working on
the branch.</p></li>
<li><p>It often occurs that two or more people end up working on the same
branch. When you fetch the updates of other developers into your
local (already altered) version of the branch with <code class="code docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span></code> you
will frequenctly encounter conflicts. These are mostly easy to
resolve. However, they will lead to an ugly history. This situation,
along with the standard issue, is well described <a class="reference external" href="http://stackoverflow.com/questions/8509396/git-pull-results-in-extraneous-merge-branch-messages-in-commit-log">on
stackoverflow</a>.
There are two ways to deal with this:</p>
<ol class="arabic">
<li><p>If you have only minor changes that can be summarized in one
commit, you will be aware of this when you type:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">fetch</span>
<span class="n">git</span> <span class="n">status</span>
</pre></div>
</div>
<p>and you are shown that you are one or more commits
behind the remote branch while only one or two local files are
change. You should deal with this situation as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">stash</span>
<span class="n">git</span> <span class="n">pull</span>
<span class="n">git</span> <span class="n">stash</span> <span class="n">pop</span>
</pre></div>
</div>
<p>This way, your local changes are saved onto the ‘stash’, then you
update your local repository with the remote version that includes
other developers’ changes, and then you pop the stash onto that
altered repository. The result is that only your own changes and the
way you resolved the conflict will appear in the git history.</p>
</li>
<li><p>If you have a considerable amount of changes, we can accept the
ugly merge commits. Just stay with <code class="code docutils literal notranslate"><span class="pre">git</span> <span class="pre">pull</span></code> and put the
keyword ‘merge’ into the commit message. To understand what is
going on, read the copy-paste from the above link (copy-paste
follows):</p></li>
</ol>
<p>For example, two people are working on the same branch. The branch
starts as:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">...-&gt;</span><span class="n">C1</span>
</pre></div>
</div>
<p>The first person finishes their work and pushes to the branch:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">...-&gt;</span><span class="n">C1</span><span class="o">-&gt;</span><span class="n">C2</span>
</pre></div>
</div>
<p>The second person finishes their work and wants to push, but can’t because they need to update.
The local repository for the second person looks like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">...-&gt;</span><span class="n">C1</span><span class="o">-&gt;</span><span class="n">C3</span>
</pre></div>
</div>
<p>If the pull is set to merge, the second persons
repository will look like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">...-&gt;</span><span class="n">C1</span><span class="o">-&gt;</span><span class="n">C3</span><span class="o">-&gt;</span><span class="n">M1</span>
 \
   <span class="o">-&gt;</span><span class="n">C2</span><span class="o">-&gt;</span>
</pre></div>
</div>
<p>It will appear in the merge commit that the second person has
committed all the changes from C2. Nevertheless, C2 remains in the
git history and is not completely lost. This way, the merge commit
accuratly represents the history of the branch. It just somehow spams
you with information, so you should always use the former option 3.i
when you can.</p>
</li>
</ol>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="../_sources/developer_guide/codingworkflow.rst.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2014-2025, Leonhard Neuhaus, Samuel Deléglise, Michaël Croquette .<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 7.4.7.<br/>
    </p>
  </div>
</footer>
  </body>
</html>